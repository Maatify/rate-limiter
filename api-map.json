{
  "project": "maatify/rate-limiter",
  "version": "1.0.0-alpha-phase5",
  "status": "frozen",
  "namespaces": {
    "Maatify\\RateLimiter\\DTO": {
      "RateLimitStatusDTO": {
        "kind": "class",
        "file": "src/DTO/RateLimitStatusDTO.php",
        "methods": [
          {
            "name": "__construct",
            "parameters": [
              "readonly int $limit",
              "readonly int $remaining",
              "readonly int $resetAfter",
              "readonly ?int $retryAfter = null",
              "readonly ?int $backoffSeconds = null",
              "readonly ?string $nextAllowedAt = null"
            ]
          },
          {
            "name": "toArray",
            "return": "array{limit:int, remaining:int, resetAfter:int, retryAfter:?int, backoffSeconds:?int, nextAllowedAt:?string}",
            "parameters": []
          }
        ]
      }
    },
    "Maatify\\RateLimiter\\Drivers": {
      "RedisRateLimiter": {
        "kind": "class",
        "file": "src/Drivers/RedisRateLimiter.php",
        "implements": [
          "Maatify\\RateLimiter\\Contracts\\RateLimiterInterface"
        ],
        "methods": [
          {
            "name": "__construct",
            "parameters": [
              "\\Redis $client",
              "int $defaultLimit = 60",
              "int $defaultWindow = 60"
            ]
          },
          {
            "name": "attempt",
            "return": "RateLimitStatusDTO",
            "parameters": [
              "string $key",
              "RateLimitActionEnum $action",
              "PlatformEnum $platform"
            ]
          },
          {
            "name": "status",
            "return": "RateLimitStatusDTO",
            "parameters": [
              "string $key",
              "RateLimitActionEnum $action",
              "PlatformEnum $platform"
            ]
          }
        ]
      },
      "MongoRateLimiter": {
        "kind": "class",
        "file": "src/Drivers/MongoRateLimiter.php",
        "implements": [
          "Maatify\\RateLimiter\\Contracts\\RateLimiterInterface"
        ],
        "methods": [
          {
            "name": "__construct",
            "parameters": [
              "MongoDB\\Collection $collection",
              "int $defaultLimit = 60",
              "int $defaultWindow = 60"
            ]
          },
          {
            "name": "attempt",
            "return": "RateLimitStatusDTO",
            "parameters": [
              "string $key",
              "RateLimitActionEnum $action",
              "PlatformEnum $platform"
            ]
          },
          {
            "name": "status",
            "return": "RateLimitStatusDTO",
            "parameters": [
              "string $key",
              "RateLimitActionEnum $action",
              "PlatformEnum $platform"
            ]
          }
        ]
      },
      "MySQLRateLimiter": {
        "kind": "class",
        "file": "src/Drivers/MySQLRateLimiter.php",
        "implements": [
          "Maatify\\RateLimiter\\Contracts\\RateLimiterInterface"
        ],
        "methods": [
          {
            "name": "__construct",
            "parameters": [
              "PDO $pdo",
              "string $tableName = \"rate_limits\"",
              "int $defaultLimit = 60",
              "int $defaultWindow = 60"
            ]
          },
          {
            "name": "attempt",
            "return": "RateLimitStatusDTO",
            "parameters": [
              "string $key",
              "RateLimitActionEnum $action",
              "PlatformEnum $platform"
            ]
          },
          {
            "name": "status",
            "return": "RateLimitStatusDTO",
            "parameters": [
              "string $key",
              "RateLimitActionEnum $action",
              "PlatformEnum $platform"
            ]
          }
        ]
      }
    },
    "Maatify\\RateLimiter\\Config": {
      "RateLimitConfig": {
        "kind": "class",
        "file": "src/Config/RateLimitConfig.php",
        "methods": [
          {
            "name": "__construct",
            "parameters": [
              "int $defaultLimit",
              "int $defaultWindow",
              "int $globalRateLimit",
              "int $globalRateWindow",
              "int $backoffBase",
              "int $backoffMax"
            ]
          },
          {
            "name": "fromEnv",
            "return": "self",
            "parameters": []
          }
        ]
      }
    },
    "Maatify\\RateLimiter\\Contracts": {
      "RateLimiterInterface": {
        "kind": "interface",
        "file": "src/Contracts/RateLimiterInterface.php",
        "methods": [
          {
            "name": "attempt",
            "return": "RateLimitStatusDTO",
            "parameters": [
              "string $key",
              "RateLimitActionEnum $action",
              "PlatformEnum $platform"
            ]
          },
          {
            "name": "status",
            "return": "RateLimitStatusDTO",
            "parameters": [
              "string $key",
              "RateLimitActionEnum $action",
              "PlatformEnum $platform"
            ]
          }
        ]
      },
      "PlatformInterface": {
        "kind": "interface",
        "file": "src/Contracts/PlatformInterface.php",
        "methods": [
          {
            "name": "value",
            "return": "string",
            "parameters": []
          }
        ]
      },
      "RateLimitActionInterface": {
        "kind": "interface",
        "file": "src/Contracts/RateLimitActionInterface.php",
        "methods": [
          {
            "name": "value",
            "return": "string",
            "parameters": []
          }
        ]
      }
    },
    "Maatify\\RateLimiter\\Enums": {
      "RateLimitActionEnum": {
        "kind": "enum",
        "file": "src/Enums/RateLimitActionEnum.php",
        "methods": [
          {
            "name": "values",
            "return": "array<string>"
          }
        ]
      },
      "PlatformEnum": {
        "kind": "enum",
        "file": "src/Enums/PlatformEnum.php",
        "methods": [
          {
            "name": "values",
            "return": "array<string>"
          }
        ]
      }
    },
    "Maatify\\RateLimiter\\Exceptions": {
      "TooManyRequestsException": {
        "kind": "class",
        "file": "src/Exceptions/TooManyRequestsException.php",
        "extends": "RuntimeException",
        "methods": [
          {
            "name": "__construct",
            "parameters": [
              "string $message",
              "int $code",
              "Throwable|null $previous",
              "RateLimitStatusDTO|null $status"
            ]
          },
          {
            "name": "getStatus",
            "return": "?RateLimitStatusDTO",
            "parameters": []
          }
        ]
      }
    },
    "Maatify\\RateLimiter\\Middleware": {
      "RateLimitWebMiddleware": {
        "kind": "class",
        "file": "src/Middleware/RateLimitWebMiddleware.php",
        "methods": [
          {
            "name": "__construct",
            "parameters": [
              "RateLimiterInterface $limiter",
              "RateLimitActionEnum $action",
              "PlatformEnum $platform"
            ]
          },
          {
            "name": "process",
            "return": "ResponseInterface",
            "parameters": [
              "ServerRequestInterface $request",
              "RequestHandlerInterface $handler"
            ]
          }
        ]
      },
      "RateLimitHeadersMiddleware": {
        "kind": "class",
        "file": "src/Middleware/RateLimitHeadersMiddleware.php",
        "methods": [
          {
            "name": "process",
            "return": "ResponseInterface",
            "parameters": [
              "ServerRequestInterface $request",
              "RequestHandlerInterface $handler"
            ]
          }
        ]
      }
    },
    "Maatify\\RateLimiter\\Resolver": {
      "RateLimiterResolver": {
        "kind": "class",
        "file": "src/Resolver/RateLimiterResolver.php",
        "methods": [
          {
            "name": "__construct",
            "parameters": [
              "RateLimiterInterface $redisLimiter",
              "RateLimiterInterface $mongoLimiter",
              "RateLimiterInterface $mysqlLimiter"
            ]
          },
          {
            "name": "resolveForPlatform",
            "return": "RateLimiterInterface",
            "parameters": [
              "PlatformEnum $platform"
            ]
          }
        ]
      }
    },
    "Maatify\\SecurityGuard\\Config\\SecurityConfig": {
      "type": "class",
      "methods": {
        "__construct": {
          "visibility": "public",
          "arguments": [
            {
              "name": "maxFailures",
              "type": "int"
            },
            {
              "name": "blockSeconds",
              "type": "int"
            }
          ]
        },
        "maxFailures": {
          "visibility": "public",
          "return_type": "int",
          "arguments": []
        },
        "blockSeconds": {
          "visibility": "public",
          "return_type": "int",
          "arguments": []
        }
      }
    },
    "Maatify\\SecurityGuard\\Config\\SecurityConfigLoader": {
      "type": "class",
      "methods": {
        "defaults": {
          "visibility": "public",
          "static": true,
          "return_type": "Maatify\\SecurityGuard\\Config\\SecurityConfig",
          "arguments": []
        }
      }
    },
    "Maatify\\RateLimiter\\Config\\ActionRateLimitConfig": {
      "type": "class",
      "methods": {
        "__construct": {
          "visibility": "public",
          "static": false,
          "return_type": "void",
          "arguments": [
            {
              "name": "limit",
              "type": "int"
            },
            {
              "name": "window",
              "type": "int"
            },
            {
              "name": "banTime",
              "type": "int|null"
            }
          ]
        },
        "getLimit": {
          "visibility": "public",
          "static": false,
          "return_type": "int",
          "arguments": []
        },
        "getWindow": {
          "visibility": "public",
          "static": false,
          "return_type": "int",
          "arguments": []
        },
        "getBanTime": {
          "visibility": "public",
          "static": false,
          "return_type": "int|null",
          "arguments": []
        }
      }
    },
    "Maatify\\RateLimiter\\Config\\GlobalRateLimitConfig": {
      "type": "class",
      "methods": {
        "__construct": {
          "visibility": "public",
          "static": false,
          "return_type": "void",
          "arguments": [
            {
              "name": "limit",
              "type": "int"
            },
            {
              "name": "window",
              "type": "int"
            },
            {
              "name": "banTime",
              "type": "int|null"
            }
          ]
        },
        "getLimit": {
          "visibility": "public",
          "static": false,
          "return_type": "int",
          "arguments": []
        },
        "getWindow": {
          "visibility": "public",
          "static": false,
          "return_type": "int",
          "arguments": []
        },
        "getBanTime": {
          "visibility": "public",
          "static": false,
          "return_type": "int|null",
          "arguments": []
        }
      }
    },
    "Maatify\\RateLimiter\\Config\\Contracts\\ActionRateLimitConfigProviderInterface": {
      "type": "interface",
      "methods": {
        "getConfigForAction": {
          "visibility": "public",
          "static": false,
          "return_type": "Maatify\\RateLimiter\\Config\\ActionRateLimitConfig|null",
          "arguments": [
            {
              "name": "action",
              "type": "Maatify\\RateLimiter\\Enums\\RateLimitActionEnum"
            }
          ]
        }
      }
    },
    "Maatify\\RateLimiter\\Config\\Providers\\InMemoryActionRateLimitConfigProvider": {
      "type": "class",
      "methods": {
        "__construct": {
          "visibility": "public",
          "static": false,
          "return_type": "void",
          "arguments": [
            {
              "name": "configs",
              "type": "array"
            }
          ]
        },
        "getConfigForAction": {
          "visibility": "public",
          "static": false,
          "return_type": "Maatify\\RateLimiter\\Config\\ActionRateLimitConfig|null",
          "arguments": [
            {
              "name": "action",
              "type": "Maatify\\RateLimiter\\Enums\\RateLimitActionEnum"
            }
          ]
        }
      }
    },
    "Maatify\\RateLimiter\\Backoff\\BackoffPolicyInterface": {
      "type": "interface",
      "methods": {
        "calculateDelay": {
          "visibility": "public",
          "static": false,
          "return_type": "int|null",
          "arguments": [
            {
              "name": "attempts",
              "type": "int"
            },
            {
              "name": "context",
              "type": "string"
            }
          ]
        }
      }
    },
    "Maatify\\RateLimiter\\Resolver\\RateLimiterResolver": {
      "type": "class",
      "methods": {
        "__construct": {
          "visibility": "public",
          "static": false,
          "return_type": "void",
          "arguments": [
            {
              "name": "drivers",
              "type": "array"
            },
            {
              "name": "actionConfigProvider",
              "type": "Maatify\\RateLimiter\\Config\\Contracts\\ActionRateLimitConfigProviderInterface"
            },
            {
              "name": "globalConfig",
              "type": "Maatify\\RateLimiter\\Config\\GlobalRateLimitConfig|null"
            },
            {
              "name": "backoffPolicy",
              "type": "Maatify\\RateLimiter\\Backoff\\BackoffPolicyInterface|null"
            }
          ]
        },
        "resolve": {
          "visibility": "public",
          "static": false,
          "return_type": "Maatify\\RateLimiter\\DTO\\RateLimitStatusDTO",
          "arguments": [
            {
              "name": "identifier",
              "type": "string"
            },
            {
              "name": "action",
              "type": "Maatify\\RateLimiter\\Enums\\RateLimitActionEnum"
            }
          ]
        }
      }
    },
    "Maatify\\RateLimiter\\Resolver\\EnforcingRateLimiter": {
      "type": "class",
      "methods": {
        "__construct": {
          "visibility": "public",
          "static": false,
          "return_type": "void",
          "arguments": [
            { "name": "driver", "type": "Maatify\\RateLimiter\\Contracts\\RateLimiterInterface" },
            { "name": "backoffPolicy", "type": "Maatify\\RateLimiter\\Contracts\\BackoffPolicyInterface" }
          ]
        },
        "attempt": {
          "visibility": "public",
          "static": false,
          "return_type": "Maatify\\RateLimiter\\DTO\\RateLimitStatusDTO",
          "arguments": [
            { "name": "key", "type": "string" },
            { "name": "action", "type": "Maatify\\RateLimiter\\Contracts\\RateLimitActionInterface" },
            { "name": "platform", "type": "Maatify\\RateLimiter\\Contracts\\PlatformInterface" }
          ]
        },
        "reset": {
          "visibility": "public",
          "static": false,
          "return_type": "bool",
          "arguments": [
            { "name": "key", "type": "string" },
            { "name": "action", "type": "Maatify\\RateLimiter\\Contracts\\RateLimitActionInterface" },
            { "name": "platform", "type": "Maatify\\RateLimiter\\Contracts\\PlatformInterface" }
          ]
        },
        "status": {
          "visibility": "public",
          "static": false,
          "return_type": "Maatify\\RateLimiter\\DTO\\RateLimitStatusDTO",
          "arguments": [
            { "name": "key", "type": "string" },
            { "name": "action", "type": "Maatify\\RateLimiter\\Contracts\\RateLimitActionInterface" },
            { "name": "platform", "type": "Maatify\\RateLimiter\\Contracts\\PlatformInterface" }
          ]
        }
      }
    },
    "Maatify\\RateLimiter\\Resolver\\ExponentialBackoffPolicy": {
      "type": "class",
      "methods": {
        "__construct": {
          "visibility": "public",
          "static": false,
          "return_type": "void",
          "arguments": [
            { "name": "base", "type": "int" },
            { "name": "maxDelay", "type": "int|null" }
          ]
        },
        "calculateDelay": {
          "visibility": "public",
          "static": false,
          "return_type": "int",
          "arguments": [
            { "name": "status", "type": "Maatify\\RateLimiter\\DTO\\RateLimitStatusDTO" }
          ]
        }
      }
    },
    "Maatify\\RateLimiter\\DTO\\RateLimitStatusDTO": {
      "type": "class",
      "methods": {
        "__construct": {
          "visibility": "public",
          "static": false,
          "return_type": "void",
          "arguments": [
            { "name": "limit", "type": "int" },
            { "name": "remaining", "type": "int" },
            { "name": "resetAfter", "type": "int" },
            { "name": "retryAfter", "type": "int|null" },
            { "name": "blocked", "type": "bool" },
            { "name": "backoffSeconds", "type": "int|null" },
            { "name": "nextAllowedAt", "type": "string|null" },
            { "name": "source", "type": "string|null" }
          ]
        },
        "toArray": {
          "visibility": "public",
          "static": false,
          "return_type": "array",
          "arguments": []
        },
        "fromArray": {
          "visibility": "public",
          "static": true,
          "return_type": "self",
          "arguments": [
            { "name": "data", "type": "array" }
          ]
        }
      }
    }



  }
}
