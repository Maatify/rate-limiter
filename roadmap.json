{
  "roadmap_version": "1.0.3-execution",
  "project": "maatify/rate-limiter",
  "mode": "STRICT",
  "global_rules": {
    "paths": {
      "core": "src/",
      "tests": "tests/",
      "examples": "examples/"
    },
    "blocking_policy": {
      "core": true,
      "tests": "only_at_phase6_and_phase12",
      "examples": false
    }
  },
  "phases": [

    {
      "id": "phase1",
      "title": "Environment Setup",
      "version": "0.1.0",
      "tracks": {
        "core": {
          "status": "completed",
          "blocking": true,
          "tasks": [
            "Initialize Composer project",
            "Define PHP version constraints",
            "Prepare base folder structure"
          ],
          "outputs": ["composer.json"]
        },
        "tests": {
          "status": "completed",
          "blocking": false,
          "tasks": [
            "Validate Composer autoload",
            "Bootstrap PHPUnit config"
          ],
          "outputs": [".github/workflows/phpunit.yml"]
        },
        "examples": {
          "status": "n/a",
          "blocking": false,
          "tasks": [],
          "outputs": []
        }
      }
    },

    {
      "id": "phase2",
      "title": "Core Architecture",
      "version": "0.2.0",
      "tracks": {
        "core": {
          "status": "completed",
          "blocking": true,
          "tasks": [
            "Create RateLimiterInterface",
            "Define RateLimitConfig structure",
            "Add RateLimitStatusDTO",
            "Define TooManyRequestsException"
          ],
          "outputs": [
            "src/Contracts/RateLimiterInterface.php",
            "src/Config/RateLimitConfig.php",
            "src/DTO/RateLimitStatusDTO.php",
            "src/Exceptions/TooManyRequestsException.php"
          ]
        },
        "tests": {
          "status": "completed",
          "blocking": false,
          "tasks": [
            "DTO serialization tests",
            "Config loader tests"
          ],
          "outputs": [
            "tests/DTO/RateLimitStatusDTOTest.php",
            "tests/Config/RateLimitConfigTest.php"
          ]
        },
        "examples": {
          "status": "pending",
          "blocking": false,
          "tasks": ["Show minimal limiter usage"],
          "outputs": ["examples/phase2/basic.php"]
        }
      }
    },

    {
      "id": "phase3",
      "title": "Storage Drivers",
      "version": "0.3.0",
      "tracks": {
        "core": {
          "status": "completed",
          "blocking": true,
          "tasks": [
            "Implement Redis driver",
            "Implement MongoDB driver",
            "Implement MySQL driver",
            "Support TTL enforcement"
          ],
          "outputs": [
            "src/Drivers/RedisRateLimiter.php",
            "src/Drivers/MongoRateLimiter.php",
            "src/Drivers/MySQLRateLimiter.php"
          ]
        },
        "tests": {
          "status": "completed",
          "blocking": false,
          "tasks": [
            "Test Redis TTL behavior",
            "Test Mongo TTL expiration",
            "Test MySQL cleanup"
          ],
          "outputs": [
            "tests/Drivers/RedisRateLimiterTest.php",
            "tests/Drivers/MongoRateLimiterTest.php",
            "tests/Drivers/MySQLRateLimiterTest.php"
          ]
        },
        "examples": {
          "status": "pending",
          "blocking": false,
          "tasks": ["Provide per-driver example"],
          "outputs": ["examples/phase3/"]
        }
      }
    },

    {
      "id": "phase4",
      "title": "Resolver & Enum Contracts Refactor",
      "version": "0.4.0",
      "tracks": {
        "core": {
          "status": "completed",
          "blocking": true,
          "tasks": [
            "Create resolver abstraction",
            "Decouple enum usage",
            "Add PSR-15 middleware"
          ],
          "outputs": [
            "src/Resolver/RateLimiterResolver.php",
            "src/Middleware/RateLimitHeadersMiddleware.php"
          ]
        },
        "tests": {
          "status": "completed",
          "blocking": false,
          "tasks": [
            "Resolver routing tests",
            "Middleware invocation tests"
          ],
          "outputs": [
            "tests/Resolver/ResolverTest.php",
            "tests/Middleware/HeadersMiddlewareTest.php"
          ]
        },
        "examples": {
          "status": "pending",
          "blocking": false,
          "tasks": ["Framework integration samples"],
          "outputs": ["examples/phase4/"]
        }
      }
    },

    {
      "id": "phase4.5",
      "title": "Architecture Stabilization",
      "version": "0.4.5",
      "tracks": {
        "core": {
          "status": "completed",
          "blocking": true,
          "tasks": [
            "Make config immutable",
            "Remove driver instantiation from resolver",
            "Ensure full mockability"
          ],
          "outputs": [
            "src/Config/RateLimitConfigDTO.php"
          ]
        },
        "tests": {
          "status": "pending",
          "blocking": false,
          "tasks": [
            "Mock-based resolver tests"
          ],
          "outputs": []
        },
        "examples": {
          "status": "n/a",
          "blocking": false,
          "tasks": [],
          "outputs": []
        }
      }
    },

    {
      "id": "phase5",
      "title": "Exponential Backoff & Global Limit",
      "version": "1.0.0",
      "tracks": {
        "core": {
          "status": "implemented",
          "blocking": true,
          "tasks": [
            "Implement exponential backoff",
            "Add global limiter overlay",
            "Extend RateLimitStatusDTO",
            "Enhance TooManyRequestsException"
          ],
          "outputs": [
            "src/Enforcing/EnforcingRateLimiter.php",
            "src/Backoff/BackoffPolicy.php"
          ]
        },
        "tests": {
          "status": "in_progress",
          "blocking": false,
          "tasks": [
            "Backoff behavior tests",
            "Global limiter enforcement tests"
          ],
          "outputs": [
            "tests/BackoffPolicyTest.php",
            "tests/GlobalLimiterTest.php"
          ]
        },
        "examples": {
          "status": "pending",
          "blocking": false,
          "tasks": ["Demonstrate global + action limiting"],
          "outputs": ["examples/phase5/"]
        }
      }
    },

    {
      "id": "phase5.5",
      "title": "Real Usage Alignment",
      "version": "1.0.1",
      "tracks": {
        "core": {
          "status": "completed",
          "blocking": true,
          "tasks": [
            "Validate real resolver wiring",
            "Remove simulated assumptions"
          ],
          "outputs": []
        },
        "tests": {
          "status": "optional",
          "blocking": false,
          "tasks": ["Smoke-test production examples"],
          "outputs": []
        },
        "examples": {
          "status": "pending",
          "blocking": false,
          "tasks": [
            "Add real Redis/MySQL/Mongo examples",
            "Provide copy-paste snippets"
          ],
          "outputs": ["examples/production/"]
        }
      }
    },

    {
      "id": "phase6",
      "title": "API Freeze & Stability Lock",
      "version": "1.1.0",
      "tracks": {
        "core": {
          "status": "pending",
          "blocking": true,
          "tasks": [
            "Audit all public APIs",
            "Freeze method signatures"
          ],
          "outputs": ["api-map.json"]
        },
        "tests": {
          "status": "required",
          "blocking": true,
          "tasks": [
            "Ensure full test coverage on core API"
          ],
          "outputs": []
        },
        "examples": {
          "status": "optional",
          "blocking": false,
          "tasks": [],
          "outputs": []
        }
      }
    },

    {
      "id": "phase7",
      "title": "Core Logging Layer",
      "version": "1.2.0",
      "tracks": {
        "core": {
          "status": "pending",
          "blocking": true,
          "tasks": [
            "Integrate PSR-3 logger",
            "Emit structured logs"
          ],
          "outputs": []
        },
        "tests": {
          "status": "pending",
          "blocking": false,
          "tasks": ["Logger injection tests"],
          "outputs": []
        },
        "examples": {
          "status": "pending",
          "blocking": false,
          "tasks": ["Logging example"],
          "outputs": []
        }
      }
    },

    {
      "id": "phase8",
      "title": "Domain Event System",
      "version": "1.3.0",
      "tracks": {
        "core": {
          "status": "pending",
          "blocking": true,
          "tasks": [
            "Introduce domain events",
            "Add event dispatcher"
          ],
          "outputs": []
        },
        "tests": {
          "status": "pending",
          "blocking": false,
          "tasks": ["Event dispatch tests"],
          "outputs": []
        },
        "examples": {
          "status": "pending",
          "blocking": false,
          "tasks": [],
          "outputs": []
        }
      }
    },

    {
      "id": "phase9",
      "title": "Alerts & External Integrations",
      "version": "1.4.0",
      "tracks": {
        "core": {
          "status": "pending",
          "blocking": true,
          "tasks": [
            "Telegram alert adapter",
            "Email alert adapter"
          ],
          "outputs": []
        },
        "tests": {
          "status": "pending",
          "blocking": false,
          "tasks": ["Alert throttling tests"],
          "outputs": []
        },
        "examples": {
          "status": "pending",
          "blocking": false,
          "tasks": [],
          "outputs": []
        }
      }
    },

    {
      "id": "phase10",
      "title": "Monitoring & Observability",
      "version": "1.5.0",
      "tracks": {
        "core": {
          "status": "pending",
          "blocking": true,
          "tasks": [
            "Expose metrics endpoint",
            "Add Prometheus counters"
          ],
          "outputs": []
        },
        "tests": {
          "status": "pending",
          "blocking": false,
          "tasks": ["Metrics validation tests"],
          "outputs": []
        },
        "examples": {
          "status": "pending",
          "blocking": false,
          "tasks": [],
          "outputs": []
        }
      }
    },

    {
      "id": "phase11",
      "title": "Reset Service & Admin Dashboard",
      "version": "1.6.0",
      "tracks": {
        "core": {
          "status": "pending",
          "blocking": true,
          "tasks": [
            "Implement reset APIs",
            "Add admin controls"
          ],
          "outputs": []
        },
        "tests": {
          "status": "pending",
          "blocking": false,
          "tasks": ["Admin reset tests"],
          "outputs": []
        },
        "examples": {
          "status": "pending",
          "blocking": false,
          "tasks": [],
          "outputs": []
        }
      }
    },

    {
      "id": "phase12",
      "title": "Stress Testing & QA",
      "version": "1.7.0",
      "tracks": {
        "core": {
          "status": "pending",
          "blocking": true,
          "tasks": ["Hardening adjustments"],
          "outputs": []
        },
        "tests": {
          "status": "required",
          "blocking": true,
          "tasks": [
            "High load tests",
            "Memory profiling"
          ],
          "outputs": []
        },
        "examples": {
          "status": "n/a",
          "blocking": false,
          "tasks": [],
          "outputs": []
        }
      }
    },

    {
      "id": "phase13",
      "title": "Public Documentation & Release",
      "version": "1.8.0",
      "tracks": {
        "core": {
          "status": "completed",
          "blocking": true,
          "tasks": ["Tag stable release"],
          "outputs": []
        },
        "tests": {
          "status": "completed",
          "blocking": true,
          "tasks": ["Final CI validation"],
          "outputs": []
        },
        "examples": {
          "status": "completed",
          "blocking": false,
          "tasks": ["Finalize examples"],
          "outputs": []
        }
      }
    }

  ]
}
